    
# syntexa Apache configuration (clean, ready-to-deploy)
# Recommended usage: copy this file to /etc/apache2/sites-available/syntexa.app.conf
# then enable with `sudo a2ensite syntexa.app.conf` and reload Apache.

# HTTP VirtualHost - serve the Flask app via mod_wsgi on port 80
<VirtualHost *:80>
    ServerName syntexa.app
    # ServerAlias www.syntexa.app

    # Document root - keep minimal; WSGI will handle dynamic requests
    DocumentRoot /home/clouduser/GEt

    # Logging
    ErrorLog ${APACHE_LOG_DIR}/syntexa_http_error.log
    CustomLog ${APACHE_LOG_DIR}/syntexa_http_access.log combined

    # WSGI configuration - adjust python-path to include your venv site-packages if needed
    WSGIDaemonProcess syntexa python-path=/home/clouduser/GEt:/home/clouduser/GEt/venv/lib/python3.8/site-packages user=www-data group=www-data threads=5
    WSGIProcessGroup syntexa
    WSGIScriptAlias / /home/clouduser/GEt/wsgi.py

    <Directory /home/clouduser/GEt>
        Require all granted
        Options -Indexes
        AllowOverride None
    </Directory>

    # Static files
    Alias /static/ /home/clouduser/GEt/static/
    <Directory /home/clouduser/GEt/static/>
        Require all granted
        Options -Indexes
    </Directory>

    # Uploads and user content
    Alias /uploads/ /home/clouduser/GEt/uploads/
    <Directory /home/clouduser/GEt/uploads/>
        Require all granted
        Options -Indexes
    </Directory>

    # Performance / timeouts
    Timeout 300
    ProxyTimeout 300

</VirtualHost>

# -----------------------------------------------------------------------------
# Optional HTTPS VirtualHost (commented out). After obtaining certificates
# (e.g. via certbot), uncomment and update SSLCertificateFile/KeyFile paths.
# Certbot can also auto-configure this for you when Apache is working and
# DNS is correctly pointed to this server.
# -----------------------------------------------------------------------------
#<IfModule mod_ssl.c>
#<VirtualHost *:443>
#    ServerName syntexa.app
#    ServerAlias www.syntexa.app
#
#    # SSL certificates (replace with actual cert paths)
#    SSLEngine on
#    SSLCertificateFile /etc/letsencrypt/live/syntexa.app/fullchain.pem
#    SSLCertificateKeyFile /etc/letsencrypt/live/syntexa.app/privkey.pem
#
#    # Security headers
#    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
#    Header always set X-Frame-Options "SAMEORIGIN"
#    Header always set X-Content-Type-Options "nosniff"
#    Header always set X-XSS-Protection "1; mode=block"
#    Header always set Referrer-Policy "strict-origin-when-cross-origin"
#
#    DocumentRoot /home/clouduser/GEt
#
#    ErrorLog ${APACHE_LOG_DIR}/syntexa_https_error.log
#    CustomLog ${APACHE_LOG_DIR}/syntexa_https_access.log combined
#
#    WSGIDaemonProcess syntexa python-path=/home/clouduser/GEt:/home/clouduser/GEt/venv/lib/python3.8/site-packages user=www-data group=www-data threads=5
#    WSGIProcessGroup syntexa
#    WSGIScriptAlias / /home/clouduser/GEt/wsgi.py
#
#    <Directory /home/clouduser/GEt>
#        Require all granted
#        Options -Indexes
#        AllowOverride None
#    </Directory>
#
#    Alias /static/ /home/clouduser/GEt/static/
#    <Directory /home/clouduser/GEt/static/>
#        Require all granted
#        Options -Indexes
#    </Directory>
#
#</VirtualHost>
#</IfModule>

